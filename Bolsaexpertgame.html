<!DOCTYPE html>
<html lang="pt-BR">
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ticker Quiz</title>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #fff; text-align: center; padding: 20px; }
    .container { max-width: 500px; margin: auto; }
    .question { font-size: 24px; margin-bottom: 20px; }
    .options button { display: block; width: 100%; margin: 10px 0; padding: 10px; font-size: 18px; cursor: pointer; }
    .score { font-size: 20px; margin-top: 20px; }
    .hidden { display: none; }
    .timer { font-size: 18px; margin-bottom: 10px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Ticker Quiz</h1>
    <div class="timer" id="timer">Tempo: 5s</div>
    <div class="question" id="question">Qual empresa é o ticker: ?</div>
    <div class="options" id="options"></div>
    <div class="score" id="score">Pontuação: 0</div>
    <button id="next" class="hidden" onclick="loadNextQuestion()">Próxima</button>
  </div>

  <script>
    const data = [
      { ticker: "AAPL", empresa: "Apple", pais: "EUA" },
      { ticker: "GOOGL", empresa: "Alphabet", pais: "EUA" },
      { ticker: "MSFT", empresa: "Microsoft", pais: "EUA" },
      { ticker: "PETR4", empresa: "Petrobras", pais: "Brasil" },
      { ticker: "VALE3", empresa: "Vale", pais: "Brasil" },
      { ticker: "ITUB4", empresa: "Itaú Unibanco", pais: "Brasil" },
      { ticker: "AMZN", empresa: "Amazon", pais: "EUA" },
      { ticker: "TSLA", empresa: "Tesla", pais: "EUA" }
    ];

    let score = 0;
    let currentTicker;
    let timeLeft = 10;
    let timerInterval;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function startTimer() {
      timeLeft = 10;
      document.getElementById("timer").textContent = `Tempo: ${timeLeft}s`;
      clearInterval(timerInterval);
      timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").textContent = `Tempo: ${timeLeft}s`;
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          showCorrectAnswer();
        }
      }, 1000);
    }

    function loadNextQuestion() {
      document.getElementById("next").classList.add("hidden");
      document.getElementById("options").innerHTML = "";
      currentTicker = data[Math.floor(Math.random() * data.length)];
      document.getElementById("question").textContent = `Qual empresa é o ticker: ${currentTicker.ticker}?`;
      
      let options = [currentTicker.empresa];
      while (options.length < 4) {
        const option = data[Math.floor(Math.random() * data.length)].empresa;
        if (!options.includes(option)) options.push(option);
      }
      options = shuffle(options);

      options.forEach(opt => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(opt);
        document.getElementById("options").appendChild(btn);
      });

      startTimer();
    }

    function checkAnswer(selected) {
      clearInterval(timerInterval);
      if (selected === currentTicker.empresa) {
        score++;
        alert("✅ Correto!");
      } else {
        alert(`❌ Errado! Era: ${currentTicker.empresa}`);
      }
      document.getElementById("score").textContent = `Pontuação: ${score}`;
      document.getElementById("next").classList.remove("hidden");
    }

    function showCorrectAnswer() {
      alert(`⏱️ Tempo esgotado! A resposta era: ${currentTicker.empresa}`);
      document.getElementById("next").classList.remove("hidden");
    }

    // Iniciar o jogo
    loadNextQuestion();
  </script>
</body>
</html>
